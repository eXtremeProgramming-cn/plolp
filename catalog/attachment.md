# Attachment

*Attach reference files to your prompt for context and future reuse.*

## Motivation

When a task involves heavy reference material (like a long article, legal document, or dataset), providing that content in the prompt itself can be impractical or impossible due to length. If you omit these materials, the LLM lacks critical context and may produce incorrect or generic answers. Conversely, summarizing large documents in the prompt is time-consuming and risks leaving out important details.

## Solution

Attach relevant documents or files to your prompt instead of trying to paste their entire content. For example, you can attach a research paper, a policy document, or a set of data, then instruct the LLM to use that attachment when formulating its answer. This way, the LLM has access to the detailed information it needs without cluttering your prompt text. Using attachments not only gives the model the exact references required, but also makes your prompting process more modular. You can reuse those files for other prompts and build a personal library of reference materials for future use.

## Challenge

It’s a common frustration: you have a complex task for an AI assistant that depends on a lot of background information, but getting all that information into your prompt is a struggle. Large Language Models can only handle a limited amount of text in one go (their *context window*), so extremely long inputs often get cut off or refused. This limitation leads users to attempt various workarounds, each with its own challenges:

- **Skipping the references altogether:** Some users simply ask the LLM a question without providing the source material, hoping the model’s general knowledge will suffice. Often, this yields shallow or incorrect responses because the model lacks the specific context. *For instance, a high school teacher asked an AI to generate quiz questions about a short story her class read. Since she didn’t provide the story text (assuming the AI might know it), the questions came out generic and didn’t align with the story’s details.* The omission of the actual text left the model guessing, which frustrated the teacher when she saw the irrelevant results.

- **Copy-pasting the full text into the prompt:** Another approach is to dump a huge chunk of text directly into the prompt. However, most AI platforms impose limits on input size. If a school administrator tries to paste a 50-page education policy document into a chat box, the interface might simply refuse to accept it or truncate the latter half without warning. Even when an interface *does* allow a very large paste, navigating such a bloated prompt becomes unwieldy for both the user and the model. The important instructions or questions can get lost in a sea of text. In our example, if the teacher had tried to paste the entire short story (several thousand words) before asking for quiz questions, she’d likely hit a limit or overwhelm the model, defeating the purpose of a quick solution.

- **Manually summarizing or excerpting the source:** In an attempt to avoid overloading the prompt, users might summarize the reference materials themselves or copy only select excerpts. This is labor-intensive and error-prone. A knowledge worker in a government office might spend hours condensing a detailed policy report down to a few key paragraphs to fit into a prompt. Unfortunately, in doing so they might omit subtle points or data that turn out to be important. When the LLM generates an analysis from this summarized input, it could miss crucial nuances simply because those details never made it into the prompt. The user is left wondering if the AI is flawed, when in fact the AI was starved of half the facts.

- **Feeding information piecemeal in a multi-turn exchange:** Sometimes people try to break a large document into smaller sections and feed these to the LLM one by one over several messages. For example, an analyst might send an AI the first 5 pages of a lengthy report, then the next 5 pages, and so on, and finally ask a question about the whole report. While this can bypass single-message size limits, it quickly becomes cumbersome. The user has to manage the conversation carefully, and there’s a risk the model forgets or confuses earlier details by the time it processes later ones. Continuously reminding the AI about previous parts or stitching together partial answers is difficult. Our teacher could have attempted to split the short story into chunks and present them in sequence, but keeping track of what the AI retained from the beginning of the story by the end would be challenging. The flow of context can break unless the user is extremely careful at each step.

- **Relying on the AI’s built-in knowledge:** There’s also the temptation to assume the LLM might have seen a similar document in its training data and can fill in details on its own. This often leads to **hallucinations** – the AI will confidently fabricate information or incorrectly recall facts. Imagine an office administrator asking for an analysis of a proprietary internal report without providing it, thinking the AI might have general knowledge of the topic. The AI might produce an analysis filled with generic statements or made-up data that sounds plausible but is entirely detached from the actual report. The administrator ends up with output that can’t be trusted, having to double-check everything against the real document – negating any time saved.

In each of these scenarios, the core challenge is the same: the user needs the LLM to have *access* to a large amount of reference information, but straightforwardly giving that information to the model is difficult. Either it won’t fit, or it’s too time-consuming to prepare, or the model is left unguided. The result is often frustration—important details get lost, the model’s answers miss the mark, and the user has to do extra work to correct or refine the output.

This problem is especially pronounced for professionals like educators, administrators, and researchers. They often deal with lengthy documents: a teacher might have a detailed curriculum guide, an administrator might have a stack of policy regulations, and a researcher might have dozens of pages of study data. These users aren’t programmers or AI experts who enjoy wrestling with prompt limitations; they just want the AI to help with the content at hand. When the usual prompting methods fail, it feels like hitting a wall: *“I have all the info right here, but the AI can’t seem to use it!”*

Ultimately, the challenge comes down to providing **complete context**. You want the richness of the source material to inform the AI’s output, but you also need a convenient way to get that material into the AI’s input. Without a better method, you’re stuck either oversimplifying your request or spending too much effort tailoring the prompt. This is the pain point that leads many to discover the **Attachment** pattern as a solution.

## Example

Attaching reference files to your prompt is a practical way to overcome these obstacles. By packaging the needed context separately from the main instructions, you ensure the AI has everything it needs without making the prompt itself unwieldy. Let’s explore how this pattern can be applied in real situations, and how you can use it effectively.

### Attaching an Ideological Guide and Samples for a Policy Memo

Consider a political analyst who regularly writes confidential internal reports (内参) for government leaders. These reports must adhere to a specific ideology and format. In one case, the analyst needs to write about a current international issue from a Marxist perspective and in a style suitable for high-level officials. He has two crucial reference resources: a document on Marxist epistemology (which outlines the philosophical lens for analysis) and a couple of exemplary internal reports from previous years that illustrate the expected structure and tone.

Using the Attachment pattern, the analyst prepares his prompt in a structured way. In his prompt file, he creates a section titled **“Attachments”** where he lists each reference file with a label and a brief description:

- **Attachment 1: Marxist_Epistemology.docx** – *A primer on Marxist theory and perspective. Use this as the ideological foundation for the analysis (guiding principles, not to be quoted directly).*

- **Attachment 2: Internal_Report_Example1.pdf** – *An example of a well-written internal reference report from last year. Note the formal tone, structure, and phrasing used.*

- **Attachment 3: Internal_Report_Example2.pdf** – *Another sample internal report (unrelated content). Pay attention to how the arguments are presented concisely and the style of recommendations.*

By explicitly listing these, the analyst makes it clear to the LLM what each attached document is and how it should inform the task. In the main prompt instructions (outside the attachment list), he then writes something like: *“Please read the current issue briefing (provided separately) and write an internal reference report in Chinese. Use Attachment 1 to inform your ideological stance and analytical approach, and follow the writing style and structure seen in Attachments 2 and 3. Do **not** mention the attachments explicitly in the report, but let their content guide your writing.”*

When the LLM processes this prompt, it will load the full content of those attached files (the theory document and the example reports) along with the user’s instructions. The model doesn’t need the analyst to paste pages of theory or examples into the prompt — it already has them in Attachment 1, 2, and 3. As a result, the AI generates a report that is richly informed: the arguments implicitly reflect Marxist analysis (thanks to Attachment 1), and the writing style closely mimics the terse, authoritative tone of the provided examples (attachments 2 and 3). The analyst receives a draft that aligns with the required ideology and format almost perfectly, requiring only minimal tweaks.

This example shows the power of attachments for complex, reference-heavy tasks. The user was able to guide the LLM with extensive background material without cluttering the prompt. Equally important, those attachments are *reusable*. The Marxist theory document (Attachment 1) is a resource the analyst can attach to any future prompt that needs a similar ideological angle, saving time in the long run. The example reports (Attachment 2 and 3) serve as templates for style – whenever a new internal memo is needed, those can be attached again to ensure consistency in voice and structure. In essence, the analyst has built a mini library of references that can be plugged into new prompts as needed, embodying the “modular” benefit of this pattern.

### Summarizing a News Article with the Article as Attachment

Now let’s look at a more everyday scenario: a news editor needs to create a summary of a lengthy news article for a daily digest. She has a well-crafted prompt template that specifies how to structure a summary (mention the headline, key points, context, and so on) to maintain consistency across summaries. The challenge is that every day, the article to be summarized is different and often several thousand words long. Manually copying each article’s text into the prompt would be tedious and often not even possible due to size limits.

Instead, the editor uses the Attachment pattern. Whenever she needs to summarize a new article, she simply attaches the article’s text file to the prompt. In the prompt file, under an “Attachments” section, it might say:

- **Attachment 1: Source_Article.txt** – *The full text of the news story to summarize. This is the content you will condense into the digest format.*

The rest of her prompt (the instructions to the LLM) can remain the same each time. For example, she might write: *“You are a news assistant. Please read Attachment 1 and produce a concise summary in three paragraphs: the first paragraph should state the main point of the article, the second should provide key supporting details or facts, and the third should give any necessary background or context. Preserve any important names or figures from the article, but omit minor details.”* Notice that she doesn’t need to paste the article text anywhere in these instructions; referring to “Attachment 1” is enough, since the LLM has that file.

By doing this, the editor achieves multiple things. First, **accuracy**: The LLM’s summary is based on the actual article text, so it’s far less likely to introduce errors or miss critical information. All the specifics (names, dates, quotes) are available to the model in the attachment, and thus can be reflected correctly in the summary. Second, **efficiency**: She can reuse her summary-writing prompt every day, simply swapping out the attachment for whichever article is on deck. The template doesn’t need to be rewritten or adjusted for length, because the article content lives in its own file. Third, **manageability**: the prompt she works with is short and clear – she sees just her instructions and a reference to “Attachment 1,” rather than wading through pages of article text to find where to add her directives.

This approach isn’t limited to news articles. Any time you want an LLM to process a specific piece of content – whether it’s a long report, a transcript of a meeting, a chapter from a textbook, or a piece of fiction – you can attach that content as a separate file. For example, an educator could attach a PDF of a historical speech and ask the LLM to generate comprehension questions about it. A business analyst could attach an exported data table and prompt the LLM to analyze trends from it. The key is that the bulk of the content stays in a file, while the prompt focuses on the task. Attaching the source material means the AI has the full thing to refer to, enabling detailed and context-aware outputs like summaries, analyses, or Q&As, all tailored to the actual content at hand.

### Providing a Writing Sample to Imitate Style and Tone

Attachments are not just useful for factual or data-heavy references—they can also be used to convey a *style* or *tone*. Suppose you want the AI to write in the voice of a particular author or to match the style of a specific publication. One effective way to do this is by attaching a sample of the desired style for the AI to learn from.

For instance, the authors of *Pattern Language of LLM Prompting* (the very book you’re reading) wanted a consistent, clear style inspired by Martin Fowler’s famous book *Refactoring*. Fowler’s writing is known for its clarity, structure, and approachability, and the authors aimed to channel that in this book. To achieve this, they applied the Attachment pattern: they provided the LLM with an attachment containing an excerpt from *Refactoring* itself as a style reference.

In the prompt file for writing a chapter, they included an attachment entry such as:

- **Attachment 1: Fowler_Refactoring_Excerpt.pdf** – *An excerpt from “Refactoring” by Martin Fowler, illustrating the desired writing style (structured explanations, concise language).*

The instructions in the prompt then guided the model with a line like: *“Use the writing style in Attachment 1 as a guide when composing the chapter. The tone should be pragmatic, instructional, and easy to follow, similar to Martin Fowler’s style.”*

By giving the model this sample, the authors enabled the LLM to pick up on the nuances of Fowler’s prose — for example, how he organizes content into headings and short paragraphs, how he uses simple language to explain complex ideas, and the generally matter-of-fact tone he employs. The AI, having read the attached excerpt, could then mirror those qualities in the new chapter it was writing. The result was a draft that felt notably closer to Fowler’s style than one would get by simply saying “write in a clear and structured manner.” The attachment provided a concrete example of the target style, which is far more instructive to the model than a vague description.

This pattern can be used by anyone looking to emulate a style. A novelist might attach a few pages of Hemingway if they want a Hemingway-like narration for a scene. A marketing team could attach a past press release as a style template for the AI to follow when drafting a new announcement. In all these cases, the attachment serves as a **reference point** for tone, voice, and formatting. The LLM uses it as a model to shape its output, ensuring consistency with the desired style.

### How to Apply the Attachment Pattern

As the examples above show, attaching reference files can dramatically improve the quality and relevance of an LLM’s output for complex tasks. To apply this pattern in your own prompting, consider the following general steps:

1. **Identify the reference materials you need:** Determine what background content would help the AI produce a better result. This could be a source text (like an article to summarize), supporting documents (research, manuals, guidelines), or examples of the desired output (sample reports or writings). Gather those into accessible files. 

2. **Add them as attachments in your prompt environment:** Use your AI platform’s feature to attach or upload files alongside your prompt. Many advanced LLM interfaces allow you to provide files or have an “Attachments” section in a prompt file. If your interface doesn’t explicitly support file attachments, you can simulate this by clearly separating the reference text from your main instructions (for example, by pasting it at the end of the prompt or in a preceding message) – but be mindful of length limits. The ideal scenario is an interface where you can simply upload the file or point the model to it.

3. **Label and describe each attachment:** In the prompt text that you do write, include a brief section listing the attachments by name or number with a one-line description of each. This is crucial for clarity. It tells the model *what* it’s looking at and *how it should use it*. For example:  
   - *Attachment 1: “2024_Quarterly_Report.pdf” – Detailed financial data and analysis for Q1 and Q2 of 2024.*  
   - *Attachment 2: “Company_Style_Guide.docx” – Writing guidelines and tone to use for all internal memos.*  
   These descriptions act as instructions tied to the attachments, so the model knows the role of each file.

4. **Reference attachments in your instructions:** When you write the prompt’s main instruction or question, make it a point to mention the attachments as needed. For instance: *“Using the data in Attachment 1, draft a summary of our Q2 performance. Follow the format and tone given in Attachment 2.”* By explicitly naming the attachments in your request, you ensure the model consults those files when generating its answer. It’s like telling a human, “use those documents I gave you when you write this.”

5. **Reuse and maintain your reference files:** Once you have attachments set up for a task, you can keep them for future use. If you frequently summarize news articles, having a template prompt with an attachment slot is handy – you just plug in a new article each time. If you always need a certain style or knowledge base, keep those files ready to attach. Over time, you’ll build up a collection of useful attachments (previous reports, style guides, foundational texts, etc.). This library of reference files becomes a valuable asset. It means that for a new prompt, you might not need to hunt down information or copy-paste anything at all – you already have the relevant documents on hand to attach as context.

By following these steps, you take full advantage of the **Attachment** pattern. In short, this pattern lets you give the AI *the right information at the right time*. Instead of being constrained by prompt size or forced to strip down context, you hand over the complete resources and let the model do what it’s good at: synthesizing and responding based on all available information. The result is more accurate, context-rich outputs with far less hassle. Your prompts become cleaner and more focused, and your interactions with the LLM become more powerful because you’re always able to provide the supporting knowledge it needs.